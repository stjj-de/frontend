var $=Object.defineProperty,tt=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var rt=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var q=(e,t,r)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t)=>{for(var r in t||(t={}))rt.call(t,r)&&q(e,r,t[r]);if(M)for(var r of M(t))at.call(t,r)&&q(e,r,t[r]);return e},_=(e,t)=>tt(e,et(t));import{r as h,o as l,c as w,a as c,d as x,u as ot,w as it,b as E,e as B,f as y,n as R,g as Z,h as g,i as v,j as C,t as z,F as P,k as m,T as nt,l as H,z as st,m as lt,p as ct,q as Y,s as dt,v as X,x as mt,S as pt,y as ft,N as D,A as wt,B as gt,C as ut,D as bt,E as ht,G as vt,H as yt,I as xt}from"./vendor.0083fde3.js";const kt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};kt();var V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"livestreamVideoId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:57}};V.loc.source={body:`query {
    settings {
        livestreamVideoId
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function A(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var r=e.type;r.kind==="NamedType"&&t.add(r.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){A(a,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){A(a,t)}),e.definitions&&e.definitions.forEach(function(a){A(a,t)})}var At={};(function(){V.definitions.forEach(function(t){if(t.name){var r=new Set;A(t,r),At[t.name.value]=r}})})();var L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"footerLinks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"priority"},value:{kind:"EnumValue",value:"asc"}}]}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoji"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:144}};L.loc.source={body:`query {
    settings {
        footerLinks(orderBy: [{ priority: asc }]) {
            url
            emoji
            text
        }
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function U(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var r=e.type;r.kind==="NamedType"&&t.add(r.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){U(a,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){U(a,t)}),e.definitions&&e.definitions.forEach(function(a){U(a,t)})}var Ut={};(function(){L.definitions.forEach(function(t){if(t.name){var r=new Set;U(t,r),Ut[t.name.value]=r}})})();const j=h(!1),I=h(!0),S=h(null);var Ft="/logo.png";const Et={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},zt=c("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1),Bt=[zt];function Ct(e,t){return l(),w("svg",Et,Bt)}var Dt={name:"tabler-menu-2",render:Ct};const It=x({__name:"MainNavigation",setup(e){const t=[{label:"Start",path:"/",exact:!0},{label:"Gottesdienste",path:"/gottesdienste"},{label:"Mediathek",path:"/mediathek"}],{y:r}=ot(),a=h(!1),o=h(!1);it(r,()=>{o.value&&r.value===0?o.value=!1:!o.value&&r.value>50&&(o.value=!0)});const n=E(()=>o.value?"h-22 md:h-22 shadow-md md:text-7":"h-22 md:h-30 md:text-8");return(i,p)=>{const d=B("router-link");return l(),y(nt,{to:"#nav"},[c("div",{class:R(["transition-all duration-200 linear text-8 flex justify-end items-center bg-gray-50 w-full",m(n)])},[c("nav",{class:R([a.value?"opacity-100":"-md:opacity-0 -md:pointer-events-none","flex items-center top-0 left-0 bg-gray-50 w-100vw -md:fixed -md:bg-gray-50 -md:h-100vh -md:space-y-10 -md:flex-col -md:justify-center md:space-x-12 md:h-full md:max-w-1024px md:px-12 md:mx-auto"])},[(l(),w(P,null,Z(t,s=>g(d,{key:s.path,to:s.path,class:"font-serif",onClickPassive:p[0]||(p[0]=b=>a.value=!1)},{default:v(()=>[C(z(s.label),1)]),_:2},1032,["to"])),64))],2),c("img",{src:Ft,alt:"Unser Logo",draggable:"false",class:"h-full py-2 px-3 self-start absolute -md:left-0 md:right-0 cursor-pointer",role:"link",onClick:p[1]||(p[1]=s=>i.$router.push("/"))}),c("button",{class:"text-gray-800 mr-6 md:hidden flex justify-center items-center relative",onClick:p[2]||(p[2]=s=>a.value=!a.value)},[g(m(Dt),{class:"text-10"})])],2)])}}}),St=["href"],Nt=x({__name:"UnknownLink",props:{to:{type:String,required:!0}},setup(e){const t=e,r="https://stjj.de",a=["/files","/images","/api"],o=E(()=>a.some(i=>t.to.startsWith(i)||t.to.startsWith(r+i))?!1:t.to.startsWith("/")||t.to.startsWith(r)),n=E(()=>t.to.startsWith(r)?t.to.slice(15):t.to);return(i,p)=>{const d=B("router-link");return m(o)?(l(),y(d,{key:0,class:"link",to:m(n)},{default:v(()=>[H(i.$slots,"default")]),_:3},8,["to"])):(l(),w("a",{key:1,class:"link",href:e.to,rel:"noopener noreferrer external"},[H(i.$slots,"default")],8,St))}}});var Q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authenticatedItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAdmin"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:112}};Q.loc.source={body:`query {
  authenticatedItem {
    ...on User {
      id
      username
      firstName
      isAdmin
    }
  }
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};function F(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var r=e.type;r.kind==="NamedType"&&t.add(r.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){F(a,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){F(a,t)}),e.definitions&&e.definitions.forEach(function(a){F(a,t)})}var Rt={};(function(){Q.definitions.forEach(function(t){if(t.name){var r=new Set;F(t,r),Rt[t.name.value]=r}})})();const G=st({url:"/api/graphql",requestPolicy:"cache-and-network",suspense:!0,exchanges:[lt,ct]}),K=h(null);let N=!1;function Pt(e=!1){N&&!e||(N=!0,G.query(Q).toPromise().then(({data:t})=>{N=!1,K.value=t.authenticatedItem}).catch(console.error))}const jt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Kt=c("path",{fill:"currentColor",d:"m221.7 133.7l-72 72a8.2 8.2 0 0 1-11.4 0a8.1 8.1 0 0 1 0-11.4l58.4-58.3H40a8 8 0 0 1 0-16h156.7l-58.4-58.3a8.1 8.1 0 0 1 11.4-11.4l72 72a8.1 8.1 0 0 1 0 11.4Z"},null,-1),Vt=[Kt];function Lt(e,t){return l(),w("svg",jt,Vt)}var Qt={name:"ph-arrow-right",render:Lt};const Mt=c("div",{class:"text-5 font-bold flex items-center"},[C(" Jetzt live! "),c("div",{class:"bg-red-500 rounded-full w-4 h-4 animate-pulse ml-2"})],-1),qt=c("div",null,"Zuschauen",-1),Wt=x({__name:"LiveNotification",props:{isVisible:Boolean},setup(e){return(t,r)=>{const a=B("router-link");return l(),w("div",{class:R(["fixed -lg:bottom-4 -lg:left-4 lg:top-8 lg:right-8 bg-white shadow-md p-4 sm:p-5 rounded-2xl transition duration-200 transform z-101 flex space-x-3 sm:space-x-5 items-center",e.isVisible&&t.$route.path!=="/gottesdienste"?"opacity-100 scale-100":"opacity-0 scale-0"])},[Mt,c("div",null,[g(a,{class:"text-yellow-600 text-5 flex items-center space-x-2",to:"/gottesdienste",onClickPassive:r[0]||(r[0]=o=>t.track("click","livestream notification"))},{default:v(()=>[g(m(Qt)),qt]),_:1})])],2)}}}),_t={key:0,class:"bg-black bg-opacity-3 backdrop-filter backdrop-blur-sm border-1 border-gray-300 fixed bottom-5 left-5 rounded-md px-2 py-0.5"},Ht=C(" Angemeldet als "),Xt={class:"font-bold"},Tt=x({__name:"LoggedInIndicator",setup(e){return(t,r)=>m(K)!==null?(l(),w("div",_t,[Ht,c("span",Xt,z(m(K).firstName),1)])):Y("",!0)}}),Zt="_nprogressBar_6v60q_1";var Yt={nprogressBar:Zt},Gt=(e,t)=>{const r=e.__vccOpts||e;for(const[a,o]of t)r[a]=o;return r};const Ot={class:"max-w-1024px w-100vw px-5 sm:px-12 pt-4 pb-12 mx-auto"},Jt={key:0,class:"flex flex-col justify-center items-center space-y-5 py-6 opacity-70 hover:opacity-100 focus-within:opacity-100 transition"},$t=c("div",{class:"h-1px w-80vw bg-gray-200 mb-2"},null,-1),te=x({__name:"App",setup(e){function t(d){ft(()=>{D.configure({template:`<div class="${d}" role="bar"><div class="peg"></div></div></div>`,trickleSpeed:100})});const s=h(!1),b=()=>{s.value=!1,D.done()},f=()=>{s.value=!0,D.start()};return wt(j,()=>{f()}),{isLoading:s,startLoading:f,stopLoading:b}}function r(){I.value=!0,S.value=null;const{data:d,executeQuery:s}=X({query:V,context:{requestPolicy:"network-only"}});gt(()=>{s()},30*1e3),ut(()=>{if(d.value!==void 0){I.value=!1;const b=d.value.settings.livestreamVideoId;S.value=b===""?null:b}})}const a=dt(),{startLoading:o,stopLoading:n}=t(a.nprogressBar);Pt(),r();const{data:i}=X({query:L}),p=E(()=>!I.value&&S.value!==null);return(d,s)=>{const b=B("router-view");return l(),w(P,null,[g(It),c("div",Ot,[g(b,null,{default:v(({Component:f})=>[(l(),y(pt,{onPending:s[0]||(s[0]=J=>m(o)()),onResolve:s[1]||(s[1]=J=>m(n)())},{default:v(()=>[(l(),y(mt(f),{key:d.$route.fullPath}))]),_:2},1024))]),_:1})]),m(i)?(l(),w("footer",Jt,[$t,(l(!0),w(P,null,Z(m(i).settings.footerLinks,f=>(l(),y(Nt,{key:f.text,to:f.url},{default:v(()=>[C(z(f.emoji)+" "+z(f.text),1)]),_:2},1032,["to"]))),128))])):Y("",!0),g(Wt,{"is-visible":m(p)},null,8,["is-visible"]),g(Tt)],64)}}}),ee={$style:Yt};var re=Gt(te,[["__cssModules",ee]]);const ae="modulepreload",T={},oe="/",u=function(t,r){return!r||r.length===0?t():Promise.all(r.map(a=>{if(a=`${oe}${a}`,a in T)return;T[a]=!0;const o=a.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${n}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":ae,o||(i.as="script",i.crossOrigin=""),i.href=a,document.head.appendChild(i),o)return new Promise((p,d)=>{i.addEventListener("load",p),i.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},ie=()=>u(()=>import("./_...all_.349a9c2b.js"),["assets/_...all_.349a9c2b.js","assets/vendor.0083fde3.js","assets/NotFound.32654cdd.js","assets/DocumentRendered.cf2bacda.js"]),ne=()=>u(()=>import("./gottesdienste.e6aa8720.js"),["assets/gottesdienste.e6aa8720.js","assets/vendor.0083fde3.js","assets/YouTubeEmbed.e34ded4d.js","assets/DocumentRendered.cf2bacda.js"]),se=()=>u(()=>import("./index.f768e0ea.js"),["assets/index.f768e0ea.js","assets/index.7d84b359.css","assets/vendor.0083fde3.js","assets/DocumentRendered.cf2bacda.js","assets/UploadedImage.a97bf1df.js"]),le=()=>u(()=>import("./login.72435db0.js"),["assets/login.72435db0.js","assets/login.8a9ce7d1.css","assets/vendor.0083fde3.js"]),ce=()=>u(()=>import("./logout.d7fd4176.js"),["assets/logout.d7fd4176.js","assets/vendor.0083fde3.js"]),de=()=>u(()=>import("./_id_.f37e353f.js"),["assets/_id_.f37e353f.js","assets/vendor.0083fde3.js","assets/NotFound.32654cdd.js","assets/YouTubeEmbed.e34ded4d.js","assets/DocumentRendered.cf2bacda.js"]),me=()=>u(()=>import("./index.b9492647.js"),["assets/index.b9492647.js","assets/index.7b623452.css","assets/vendor.0083fde3.js","assets/DocumentRendered.cf2bacda.js"]),pe=()=>u(()=>import("./_slug_.337465b6.js"),["assets/_slug_.337465b6.js","assets/vendor.0083fde3.js","assets/DocumentRendered.cf2bacda.js","assets/NotFound.32654cdd.js","assets/UploadedImage.a97bf1df.js"]),fe=[{name:"all",path:"/:all(.*)*",component:ie,props:!0},{name:"gottesdienste",path:"/gottesdienste",component:ne,props:!0},{name:"index",path:"/",component:se,props:!0},{name:"login",path:"/login",component:le,props:!0},{name:"logout",path:"/logout",component:ce,props:!0},{name:"mediathek-id",path:"/mediathek/:id",component:de,props:!0},{name:"mediathek",path:"/mediathek",component:me,props:!0},{name:"neuigkeiten-slug",path:"/neuigkeiten/:slug",component:pe,props:!0}],O=fe.map(e=>{if(typeof e.component!="function")return e;const t=e.component;return _(W({},e),{component:async()=>{j.value=!0;const r=await t();return j.value=!1,r},props:!1})});O.push({path:"/live",redirect:"/gottesdienste"});const we=bt({routes:O,scrollBehavior(e,t,r){return r!=null?r:e.hash!==void 0?{el:e.hash}:{top:0}},history:ht()}),k=vt(re);k.use(we);k.use(yt,G);const ge=xt();k.use(ge);k.mixin({methods:{track(e,t){window.umami.trackEvent(t,e)}}});k.mount("#app");export{Gt as _,I as a,Nt as b,K as c,Pt as f,S as l};
